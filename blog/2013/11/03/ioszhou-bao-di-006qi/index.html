
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>iOS周报第006期 - MooooooQ</title>
  <meta name="author" content="Minqian Liu">

  
  <meta name="description" content="第006期 &ndash; 2013年11月03日 新闻 斯坦福大学的iOS开发课程 更新了iOS 7和Xcode 5。 杂谈 解密中国互联网 @caoz 根据区域主颜色生成文字颜色 这周我发现这样一个事情，如果一个view的content不断变化，而上面label的字体颜色不变化的话，会很难看。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://liuminqian.github.io/blog/2013/11/03/ioszhou-bao-di-006qi">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="MooooooQ" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44395611-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">MooooooQ</a></h1>
  
    <h2>About my ideas</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:liuminqian.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">iOS周报第006期</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-03T09:43:00+08:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p><strong>第006期 &ndash; 2013年11月03日</strong></p>

<h2>新闻</h2>

<h4><a href="https://itunes.apple.com/us/course/developing-ios-7-apps-for/id733644550">斯坦福大学的iOS开发课程</a></h4>

<p>更新了iOS 7和Xcode 5。</p>

<h2>杂谈</h2>

<h4><a href="http://hi.baidu.com/ncaoz/item/6895b089a6cc71ded1f8cd4e">解密中国互联网</a></h4>

<p><a href="http://weibo.com/caoz">@caoz</a></p>

<h4>根据区域主颜色生成文字颜色</h4>

<p>这周我发现这样一个事情，如果一个<code>view</code>的<code>content</code>不断变化，而上面<code>label</code>的字体颜色不变化的话，会很难看。比如<code>label</code>默认字体是白色，那么<code>content</code>如果是以白色为主基调的，就基本看不清楚字了。所以我给自己想了这样一个命题，在<code>label</code>底下的<code>view</code>，如果<code>view</code>的<code>content</code>是不停的变化，那么<code>label</code>的文字颜色也需要变化。</p>

<p>基本的解决思路如下：1）首先取到<code>superview</code>的<code>image</code>，既可以是<code>UIImageView</code>,也可以是<code>UIView</code>；2）然后知道<code>label</code>相对于<code>image</code>的<code>frame</code>，从而获得这个<code>frame</code>下<code>image</code>的颜色均值<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>；3）之后对获得的<code>UIColor</code>进行简单的二值化处理<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>，获得是黑色还是白色；4）设置一个简单的换算方法，根据最后获得的值来算出<code>label</code>适合的<code>text color</code> 。</p>

<h2>博文</h2>

<h4><a href="http://railsware.com/blog/2013/10/15/dependency-injection-in-objective-c-with-blood-and-magic/">Dependency Injection in Objective-C with Blood and Magic</a></h4>

<p>Github也有些关于<a href="http://zh.wikipedia.org/wiki/%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC">依赖注入</a>(也称依赖反转)的Repo，作者分析了其不足。并从@dynamic <sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>和self.new切入(因为self.new等同于alloc和init的组合，只能用init来初始化。)，从<code>__attribute__((constructor)) static void</code> <sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup> 和 希望从Protocol来解决这个目前依赖注入存在的不足。作者的Repo：<a href="https://github.com/railsware/BloodMagic">BloodMagic</a>。</p>

<h4><a href="http://iosdevelopertips.com/debugging/exceptions-try-catch-and-finally.html">Handling exceptions in Objective-C: Try, Catch and Finally</a></h4>

<p>这周跟同事也讨论了这个话题。Objective-C跟其他语言比起来，很少用到异常捕获，也很少看到相关文章，但对于可能引起App Fail的throw来说还是有用的。这篇文章简单讨论了<code>@try</code>、<code>@catch</code>、<code>@finally</code>和<code>@throw</code>如何使用。</p>

<h4><a href="http://www.appcoda.com/customize-navigation-status-bar-ios-7/">Customizing Navigation Bar and Status Bar in iOS 7</a></h4>

<p>如果你对iOS 7中自定义Navigation Bar和Status Bar仍有疑问，这篇浅显易懂的文章。作者还给了些tips，比如UIColorFromRGB的一个宏定义 <sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup>。</p>

<h2>代码</h2>

<h4><a href="https://github.com/mrackwitz/MRProgress">MRProgress</a></h4>

<p>iOS风格的进度库。</p>

<p><img src="https://github.com/mrackwitz/MRProgress/raw/master//Images/screenshot_004_1.jpg" width="30%"></p>

<h4><a href="https://github.com/oclint/oclint">oclint</a></h4>

<p>代码的静态分析工具</p>

<h4><a href="https://github.com/conradev/CKBlurView">CKBlurView</a></h4>

<p>iOS 7中blur的私有API。</p>

<h2>结束语</h2>

<p>还记得那个悬浮label么(<a href="https://github.com/jverdi/JVFloatLabeledTextField">JVFloatLabeledTextField</a>)，设计者@mds讲述了<a href="http://mattdsmith.com/float-label-pattern/">How the Float Label Pattern Started</a>。</p>

<p>关于iOS 测试的一个很好的<a href="http://neglectedpotential.com/wp-content/uploads/iOS-Testing-Mind-Map-1.2.png">思维导图</a>。</p>

<p>更多每周新出的一些Repo，可以Follow我的<a href="https://github.com/liuminqian">Github</a>。这里只有我个人觉得有点意思的Repo，也并不是说其他的没意思。</p>

<p>今天发晚了，是因为升级系统后，相关的环境没更新好，跟大家说声对不起。</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p><a href="http://stackoverflow.com/questions/13694618/objective-c-getting-least-used-and-most-used-color-in-a-image">Objective-c &ndash; Getting least used and most used color in a image</a>，里面提到通过将image绘制在一个point上，来得到均值，很有意思的一个想法。里面提到的CGBitmapContextCreate，请看其的<a href="http://blog.csdn.net/wangyuchun_799/article/details/7804809">函数参数详解</a>。如何获得image某个区域frame的image，你可以使用CGImageCreateWithImageInRect。<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>将UIColor转化为rgba(<a href="http://stackoverflow.com/questions/437113/how-to-get-rgb-values-from-uicolor">How to get RGB values from UIColor?</a>)，从而可以进行二值化。<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p><code>@property</code>(属性)常用于给外部访问的变量(告诉编译器声明一个实例变量和getter，setter方法)，而<code>instance varible</code>(实例变量)用于类内部、私有变量；<code>@synthesize</code>告诉编译器自动生成合适的getter,setter方法；<code>@dynamics</code>告诉编译器，getter、setter方法直接在class文件中实现，或者在运行时通过某种机制创建(不一定在class文件中，可能是父类)，你可以参考 <a href="http://stackoverflow.com/questions/1160498/synthesize-vs-dynamic-what-are-the-differences">1</a>、 <a href="http://stackoverflow.com/questions/11571910/clarification-on-properties-synthesize-and-dynamic-in-objective-c-2-0">2</a>、 <a href="http://stackoverflow.com/questions/2066193/whats-are-the-differences-between-dynamic-and-synthesize">3</a> 。 <code>@property</code>、 <code>@synthesize</code>、 <code>@dynamics</code> 都是编译器指令。题外话，就我个人理解<code>property</code>是面向对象的概念，是对象的属性；<code>attribute</code>是对象属性的某种特性characteristics，编译器通过这些<code>attribute</code>生成特定的setter和getter方法. <a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
<li id="fn:4">
<p><code>__attribute__((constructor))</code> 意思是在告诉编译器，在进入<code>main.m</code>前执行这个函数；<code>static void</code>通俗地讲就是这个函数对外不可见。具体细节你可以参看文中提到的<a href="http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html"> GCC. Function Attributes</a>。更多<code>__attribute__</code>，请戳<a href="http://nshipster.com/__attribute__/">这里</a>。<a href="#fnref:4" rev="footnote">&#8617;</a></p></li>
<li id="fn:5">
<p>UIColorFromRGB宏定义: <code>#define UIColorFromRGB(rgbValue) [UIColor colorWithRed:((float)((rgbValue &amp; 0xFF0000) &gt;&gt; 16))/255.0 green:((float)((rgbValue &amp; 0xFF00) &gt;&gt; 8))/255.0 blue:((float)(rgbValue &amp; 0xFF))/255.0 alpha:1.0]</code><a href="#fnref:5" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Minqian Liu</span></span>

      








  


<time datetime="2013-11-03T09:43:00+08:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://liuminqian.github.io/blog/2013/11/03/ioszhou-bao-di-006qi/" data-via="" data-counturl="http://liuminqian.github.io/blog/2013/11/03/ioszhou-bao-di-006qi/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/10/27/ioszhou-bao-di-005qi/" title="Previous Post: iOS周报第005期">&laquo; iOS周报第005期</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/11/10/iosshuo-di-007qi/" title="Next Post: iOS说 第007期">iOS说 第007期 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/12/08/iosshuo-di-011qi/">iOS说第011期</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/01/iosshuo-di-010qi/">iOS说第010期</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/24/iosshuo-di-009qi/">iOS说第009期</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/17/iosshuo-di-008qi/">iOS说 第008期</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/10/iosshuo-di-007qi/">iOS说 第007期</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Minqian Liu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'liuminqian';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://liuminqian.github.io/blog/2013/11/03/ioszhou-bao-di-006qi/';
        var disqus_url = 'http://liuminqian.github.io/blog/2013/11/03/ioszhou-bao-di-006qi/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
